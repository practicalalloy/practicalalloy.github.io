<!doctype html>
<html class="no-js" lang="en" data-content_root="../../../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta property="article:modified_time" content="2025-02-16T20:25:58+00:00" /><link rel="index" title="Index" href="../../../../genindex.html" /><link rel="search" title="Search" href="../../../../search.html" /><link rel="next" title="Encoding test instances" href="../testing-instances/index.html" /><link rel="prev" title="A relational logic primer" href="../relational-logic/index.html" />

    <!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>Model finding - Practical Alloy</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=684c625f" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/practicalalloy.css?v=2ee171b3" />
    <link crossorigin="anonymous" integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" rel="stylesheet" type="text/css" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" />
    
    


<style>
  body {
    --color-code-background: #ffffff;
  --color-code-foreground: black;
  --color-brand-primary: #2a5adf;
  --color-brand-content: #2a5adf;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../../index.html"><div class="brand">Practical Alloy</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../../index.html">
  
  
  <span class="sidebar-brand-text">Practical Alloy</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Preface</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about-alloy/index.html">About Alloy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../about-book/index.html">About this book</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">The Basics</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../structural-modeling/index.html">Structural modeling</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../index.html">Advanced topics</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Advanced topics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../subset-signatures/index.html">Subset signatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../enumerations/index.html">Enumeration signatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands/index.html">Commands in detail</a></li>
<li class="toctree-l2"><a class="reference internal" href="../visualization/index.html">Visualization customization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nary-relations/index.html">Higher-arity relations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../evaluator/index.html">The instance evaluator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bestiary/index.html">Arrow multiplicity constraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../type-system/index.html">Type system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/index.html">Module system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ordering/index.html">The predefined <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">ordering</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../relational-logic/index.html">A relational logic primer</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Model finding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing-instances/index.html">Encoding test instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="../recursion/index.html">Handling recursion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../integers/index.html">Working with integers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../signature-facts/index.html">Signature facts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../behavioral-modeling/index.html">Behavioral modeling</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../behavioral-topics/index.html">Advanced topics</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Advanced topics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../behavioral-topics/topics/temporal-logic/index.html">A temporal logic primer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../behavioral-topics/topics/mutable-toplevel-signatures/index.html">Mutable top-level signatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../behavioral-topics/topics/pointwise-effects/index.html">Pointwise effects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../behavioral-topics/topics/macros/index.html">Macro system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../behavioral-topics/topics/meta/index.html">Meta-capabilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../behavioral-topics/topics/event-depiction/index.html">An idiom for event depiction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../behavioral-topics/topics/scenarios/index.html">Encoding trace scenarios</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../behavioral-topics/topics/evaluator/index.html">The trace evaluator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../behavioral-topics/topics/fairness/index.html">Safety, liveness, and fairness</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../behavioral-topics/topics/inductive-invariants/index.html">Inductive invariants</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../behavioral-topics/topics/sequences/index.html">Sequences</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Applications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../protocol-design/index.html">Protocol design</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../bibliography.html">Bibliography</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../genindex.html">Index</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../../../../_sources/chapters/structural-topics/topics/model-finding/index.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="model-finding">
<span id="analysis"></span><h1>Model finding<a class="headerlink" href="#model-finding" title="Link to this heading">¶</a></h1>
<p id="index-0">The Alloy Analyzer relies on a procedure called <em>model finding</em> to execute the
analysis commands. This procedure, in turn, relies on off-the-shelf solvers for
Boolean satisfiability problems (SAT). This topic provides an overview of this
process, pointing out to other references for more detailed presentations.</p>
<section id="relational-model-finding">
<h2>Relational model finding<a class="headerlink" href="#relational-model-finding" title="Link to this heading">¶</a></h2>
<p id="index-1">The Analyzer relies on an intermediate tool to perform relational model finding
named Kodkod <a class="reference internal" href="../../../../bibliography.html#fse04" id="id1"><span>[FSE04]</span></a>. Kodkod is also based on first-order relational logic, but
is stripped of all the structure and syntactic sugar supported by the Alloy
language: a Kodkod problem is simply a set of relations bounded by tuple sets
and a single formula that will be tested for satifiability. Relations have both a lower-bound declaring which tuples it <em>must</em> contain, and an upper-bound declaring which tuples it <em>may</em> contain. These bounds allow the user to express some partial-knowledge about the possible solutions to the problem.
If a Kodkod problem
is satisfiable, an instance is returned that assigns a tuple set to each
declared relation, ensuring each tuple set is within the specified bounds.
The problem’s relations are derived from the signatures and
fields declared in the Alloy model, and their bounds from the scope of the
command under analysis. The problem’s formula contains the model facts and
constraints defined in the command, as well as additional restrictions to encode
the signature hierarchy and multiplicity constraints. For <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="k">check</span></code>
commands, the expected property is negated so that Kodkod will search for
counter-examples, i.e., instances that obey all the model’s constraints but
break the expected property. Kodkod is also responsible for performing
Skolemization (see below), and detecting and enforcing symmetry breaking.</p>
<p>Let us get back to our file system example from the
<a class="reference internal" href="../../../structural-modeling/index.html#structural-modeling"><span class="std std-ref">Structural modeling</span></a> chapter, and consider the following simple command with a small
scope, asking for instances where all entries point to directories.</p>
<div class="highlight-practicalalloy notranslate"><div class="highlight"><pre><span></span><span class="k">run</span> <span class="n">all_entries_dir</span> <span class="o">{</span>
  <span class="n">Entry</span><span class="o">.</span><span class="n">object</span> <span class="ow">in</span> <span class="n">Dir</span>
<span class="o">}</span> <span class="k">for</span> <span class="mi">2</span>
</pre></div>
</div>
<p>Given this scope, a universe with 6 atoms is created, with 2 atoms for each
top-level signature. Then the following relations, and the respective lower- and
upper-bounds, are declared in the Kodkod problem .</p>
<div class="highlight-practicalalloy notranslate"><div class="highlight"><pre><span></span><span class="n">Root</span>    <span class="o">=</span> <span class="o">{(</span><span class="n">Root0</span><span class="o">)}</span> <span class="o">{(</span><span class="n">Root0</span><span class="o">)}</span>
<span class="n">Dir$</span>    <span class="o">=</span> <span class="o">{}</span>        <span class="o">{(</span><span class="n">Object0</span><span class="o">)}</span>
<span class="n">File</span>    <span class="o">=</span> <span class="o">{}</span>        <span class="o">{(</span><span class="n">Object0</span><span class="o">)}</span>
<span class="n">Entry</span>   <span class="o">=</span> <span class="o">{}</span>        <span class="o">{(</span><span class="n">Entry0</span><span class="o">)</span><span class="p">,</span><span class="o">(</span><span class="n">Entry1</span><span class="o">)}</span>
<span class="n">Name</span>    <span class="o">=</span> <span class="o">{}</span>        <span class="o">{(</span><span class="n">Name0</span><span class="o">)</span><span class="p">,</span><span class="o">(</span><span class="n">Name1</span><span class="o">)}</span>

<span class="n">entries</span> <span class="o">=</span> <span class="o">{}</span>        <span class="o">{(</span><span class="n">Root0</span><span class="p">,</span><span class="n">Entry0</span><span class="o">)</span><span class="p">,</span><span class="o">(</span><span class="n">Root0</span><span class="p">,</span><span class="n">Entry1</span><span class="o">)</span><span class="p">,</span><span class="o">(</span><span class="n">Object0</span><span class="p">,</span><span class="n">Entry0</span><span class="o">)</span><span class="p">,</span><span class="o">(</span><span class="n">Object0</span><span class="p">,</span><span class="n">Entry1</span><span class="o">)}</span>
<span class="n">object</span>  <span class="o">=</span> <span class="o">{}</span>        <span class="o">{(</span><span class="n">Entry0</span><span class="p">,</span><span class="n">Root0</span><span class="o">)</span><span class="p">,</span><span class="o">(</span><span class="n">Entry1</span><span class="p">,</span><span class="n">Root0</span><span class="o">)</span><span class="p">,</span><span class="o">(</span><span class="n">Entry0</span><span class="p">,</span><span class="n">Object0</span><span class="o">)</span><span class="p">,</span><span class="o">(</span><span class="n">Entry1</span><span class="p">,</span><span class="n">Object0</span><span class="o">)}</span>
<span class="n">name</span>    <span class="o">=</span> <span class="o">{}</span>        <span class="o">{(</span><span class="n">Entry0</span><span class="p">,</span><span class="n">Name0</span><span class="o">)</span><span class="p">,</span><span class="o">(</span><span class="n">Entry1</span><span class="p">,</span><span class="n">Name1</span><span class="o">)</span><span class="p">,</span><span class="o">(</span><span class="n">Entry0</span><span class="p">,</span><span class="n">Name1</span><span class="o">)</span><span class="p">,</span><span class="o">(</span><span class="n">Entry0</span><span class="p">,</span><span class="n">Name1</span><span class="o">)}</span>
</pre></div>
</div>
<p>Note that there isn’t a relation created for signatures that are extended by
others. Instead, whenever called, they are replaced by the union of all its
children signatures. If the signature is not abstract, then a new relation is
declared to encode the atoms that do not belong to any of its children (we
denote this set with a <code class="code docutils literal notranslate"><span class="pre">$</span></code> suffix). For instance, any call to
<code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Dir</span></code> in an expression is replaced by <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Root</span> <span class="o">+</span> <span class="n">Dir$</span></code> in Kodkod, and
calls to <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Object</span></code> by <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">File</span> <span class="o">+</span> <span class="n">Root</span> <span class="o">+</span> <span class="n">Dir$</span></code> (since <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Object</span></code>
is abstract, there are no objects that are not files or directories). Note also
that, since <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Root</span></code> has multiplicity <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="k">one</span></code>, its lower-bound is the
same as its upper-bound, making its bounds exact; all other relations in this
model have an empty lower-bound.</p>
<p>Then, besides the constraints imposed by the model’s facts and the <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="k">run</span></code>
command, a few other constraints are introduced from the signature declarations.
The first, shown below, forces the set of directories and files to be disjoint.</p>
<div class="highlight-practicalalloy notranslate"><div class="highlight"><pre><span></span><span class="k">no</span> <span class="o">(</span><span class="n">Root</span> <span class="o">+</span> <span class="n">Dir$</span><span class="o">)</span> <span class="o">&amp;</span> <span class="n">File</span>
</pre></div>
</div>
<p>The others enforce the type and multiplicity of the binary relations. Below are
the constraints corresponding to the <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">object</span></code> relation. The first
constraint enforces the multiplicity <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="k">one</span></code> for all entries and the
appropriate range type, <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Object</span></code>. The second constraint enforces the type
of the domain, <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry</span></code>. These constraints may seem a bit spurious when
looking at the upper-bound of <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">object</span></code>, since it only contains pairs
relating entries and objects. However, recall that at this point it is still
unknown which atoms will effectively exist in the instance. For instance,
<code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry</span></code> can even be empty, and <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">object</span></code> must be restricted
accordingly during solving.</p>
<div class="highlight-practicalalloy notranslate"><div class="highlight"><pre><span></span><span class="k">all</span> <span class="n">e</span> <span class="p">:</span> <span class="n">Entry</span> <span class="o">|</span> <span class="k">one</span> <span class="n">e</span><span class="o">.</span><span class="n">object</span> <span class="ow">and</span> <span class="n">e</span><span class="o">.</span><span class="n">object</span> <span class="ow">in</span> <span class="n">Root</span> <span class="o">+</span> <span class="n">Dir$</span> <span class="o">+</span> <span class="n">File</span>
<span class="n">object</span><span class="o">.</span><span class="kc">univ</span> <span class="ow">in</span> <span class="n">Entry</span>
</pre></div>
</div>
<p id="index-2">You can actually inspect the generated Kodkod problem by setting menu option
<span class="menuselection">Options ‣ Record the Kodkod input/output</span> to
<span class="menuselection">Yes</span>. When turned on, words <span class="guilabel">Assertion</span> or
<span class="guilabel">Predicate</span> in the Analyzer log, for <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="k">check</span></code> and <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="k">run</span></code>
commands respectively, will open a pop-window with this information. Below is
how it looks for the command above.</p>
<a class="reference internal image-reference" href="../../../../_images/log14.png"><img alt="../../../../_images/log14.png" class="align-center" src="../../../../_images/log14.png" style="width: 550px;" />
</a>
<p>You can inspect the full formula that was extracted from an Alloy model after
all the structure was flattened (it will probably be a bit more verbose than the
simplified snippets shown above). You’ll also find the corresponding Java code
that allows the generation of that problem, since Kodkod does not support a
concrete syntax for defining problems.</p>
<div class="sd-sphinx-override sd-cards-carousel sd-card-cols-2 docutils">
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-card-hover docutils">
<div class="sd-card-header docutils">
<p class="sd-card-text"><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-file-badge" viewBox="0 0 16 16" aria-hidden="true"><path d="M2.75 1.5a.25.25 0 0 0-.25.25v11.5c0 .138.112.25.25.25h3.5a.75.75 0 0 1 0 1.5h-3.5A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8a1.75 1.75 0 0 1 1.508.862.75.75 0 1 1-1.289.768.25.25 0 0 0-.219-.13h-8Z"></path><path d="M8 7a3.999 3.999 0 0 1 7.605-1.733 4 4 0 0 1-1.115 4.863l.995 4.973a.75.75 0 0 1-.991.852l-2.409-.876a.248.248 0 0 0-.17 0l-2.409.876a.75.75 0 0 1-.991-.852l.994-4.973A3.994 3.994 0 0 1 8 7Zm4-2.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5Zm0 6.5c-.373 0-.745-.051-1.104-.154l-.649 3.243 1.155-.42c.386-.14.81-.14 1.196 0l1.155.42-.649-3.243A4.004 4.004 0 0 1 12 11Z"></path></svg> Alloy model</p>
</div>
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Full model for the section</div>
<p class="sd-card-text">Download and explore the files relevant for the model at this point of the book.</p>
</div>
<a class="sd-stretched-link sd-hide-link-text reference external" href="https://github.com/practicalalloy/models/tree/2024-02-28/structural-topics/model-finding/relational-model-finding"><span>https://github.com/practicalalloy/models/tree/2024-02-28/structural-topics/model-finding/relational-model-finding</span></a></div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-card-hover docutils">
<div class="sd-card-header docutils">
<p class="sd-card-text"><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-beaker" viewBox="0 0 16 16" aria-hidden="true"><path d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458Zm-2.4 6.565a.75.75 0 0 0 .633 1.153h9.534a.75.75 0 0 0 .633-1.153L12.225 10.5h-8.45ZM9.5 2.5h-3V6c0 .143-.04.283-.117.403L4.73 9h6.54L9.617 6.403A.746.746 0 0 1 9.5 6Z"></path></svg> Further reading</p>
</div>
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Commands in detail</div>
<p class="sd-card-text">Analysis is triggered by commands declared in the model. Learn in detail how these are defined.</p>
</div>
<a class="sd-stretched-link sd-hide-link-text reference internal" href="../commands/index.html#commands"><span class="std std-ref">Commands in detail</span></a></div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-card-hover docutils">
<div class="sd-card-header docutils">
<p class="sd-card-text"><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-beaker" viewBox="0 0 16 16" aria-hidden="true"><path d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458Zm-2.4 6.565a.75.75 0 0 0 .633 1.153h9.534a.75.75 0 0 0 .633-1.153L12.225 10.5h-8.45ZM9.5 2.5h-3V6c0 .143-.04.283-.117.403L4.73 9h6.54L9.617 6.403A.746.746 0 0 1 9.5 6Z"></path></svg> Further reading</p>
</div>
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Type system</div>
<p class="sd-card-text">Alloy type system also flattens the signature hierarchy to simplify type checking.</p>
</div>
<a class="sd-stretched-link sd-hide-link-text reference internal" href="../type-system/index.html#type-system"><span class="std std-ref">Type system</span></a></div>
</div>
</section>
<section id="from-relational-logic-to-sat">
<h2>From relational logic to SAT<a class="headerlink" href="#from-relational-logic-to-sat" title="Link to this heading">¶</a></h2>
<p id="index-3">Kodkod relies on off-the-shelf SAT solvers to solve model finding problems. SAT
solvers process only propositional formulas in conjunctive normal form (CNF),
and generating these from complex  Kodkod problems is not trivial <a class="reference internal" href="../../../../bibliography.html#fse04" id="id2"><span>[FSE04]</span></a>.
Roughly, if the universe has <em>u</em> atoms, each <em>n</em>-ary relation is seen as an
<em>n</em>-dimensional Boolean matrix with size <em>u</em>, where each entry in the matrix
denotes whether an <em>n</em>-ary tuple belongs to the relation. Using the bounds
declared for the relation, some of these entries will be necessarily true, and
some necessarily false; for those whose value is not pre-defined in the bounds, Boolean variables are created
whose value will be determined by the solver. Then, relational operations are
converted into corresponding matrix operators. For instance, the union
<code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="o">+</span></code> is encoded as entrywise matrix disjunction, while composition
<code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="o">.</span></code> is encoded as matrix multiplication. Atomic formulas are converted
accordingly. For instance, inclusion <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">in</span></code> is encoded as the conjunction
of entrywise implications. Finally, first-order operators are translated into
propositional logic, which is possible because at this point the finite universe
of atoms is known. So universal quantifications <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="k">all</span></code> are flattened into
conjunctions and existential <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="k">some</span></code> into disjunctions.</p>
<p>Let us get back to our example. It has 6 atoms, so unary relations are
represented by 6 x 1 matrices (a vector). Below are the matrices corresponding
to the unary relations. Notice how tuples that necessarily belong to a relation
due to its lower-bound are set to true (here only <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Root</span></code>), and those
outside the upper-bound are set to false. Those between the lower- and
upper-bound are assigned a new Boolean variable.</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Root</span></code></p></td>
<td></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Dir$</span></code></p></td>
<td></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">File</span></code></p></td>
<td></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry</span></code></p></td>
<td></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Name</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Root0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\top\)</span></p></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Root0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Root0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Root0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Root0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Object0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Object0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(v_1\)</span></p></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Object0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(v_2\)</span></p></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Object0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Object0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
</tr>
<tr class="row-even"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(v_3\)</span></p></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry1</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry1</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry1</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry1</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(v_4\)</span></p></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry1</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
</tr>
<tr class="row-even"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Name0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Name0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Name0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Name0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Name0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(v_5\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Name1</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Name1</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Name1</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Name1</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Name1</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(v_6\)</span></p></td>
</tr>
</tbody>
</table>
</div>
<p>Getting back to command <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">all_entries_dir</span></code>, relation <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Root</span> <span class="o">+</span> <span class="n">Dir$</span></code>
(i.e., relation <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Dir</span></code>) is calculated by the entrywise disjunction of the
corresponding matrices, resulting in the matrix below.</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Root</span> <span class="o">+</span> <span class="n">Dir$</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Root0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\top\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Object0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(v_1\)</span></p></td>
</tr>
<tr class="row-even"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry1</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
</tr>
<tr class="row-even"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Name0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Name1</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
</tr>
</tbody>
</table>
</div>
<p>The binary relations are represented by 6 x 6 matrices. Below is the matrix for
<code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">object</span></code> (matrices for <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">entries</span></code> and <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">name</span></code> are omitted but
look similar).</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">object</span></code></p></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Root0</span></code></p></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Object0</span></code></p></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry0</span></code></p></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry1</span></code></p></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Name0</span></code></p></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Name1</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Root0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Object0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
</tr>
<tr class="row-even"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(v_{7}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(v_{8}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry1</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(v_{9}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(v_{10}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
</tr>
<tr class="row-even"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Name0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Name1</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
</tr>
</tbody>
</table>
</div>
<p>Continuing with command <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">all_entries_dir</span></code>, we must calculate composition
<code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry</span><span class="o">.</span><span class="n">object</span></code>, which is encoded as matrix multiplication. The result is
the following vector. Intuitively, this states that, for instance, atom
<code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Object0</span></code> is present in <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry</span><span class="o">.</span><span class="n">object</span></code> if <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry0</span></code> exists in
<code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry</span></code> (<span class="math notranslate nohighlight">\(v_3\)</span>) and <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">object</span></code> relates those two atoms
(<span class="math notranslate nohighlight">\(v_9\)</span>), or <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry1</span></code> exists in <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry</span></code> (<span class="math notranslate nohighlight">\(v_4\)</span>) and is
related with <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Object0</span></code> through <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">object</span></code> (<span class="math notranslate nohighlight">\(v_{10}\)</span>).</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry</span><span class="o">.</span><span class="n">object</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Root</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\((v_3 \wedge v_7) \vee (v_4 \wedge v_8)\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Object</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\((v_3 \wedge v_9) \vee (v_4 \wedge v_{10})\)</span></p></td>
</tr>
<tr class="row-even"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry1</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
</tr>
<tr class="row-even"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Name0</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Name1</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\bot\)</span></p></td>
</tr>
</tbody>
</table>
</div>
<p>Now, it only remains to encode the inclusion <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry</span><span class="o">.</span><span class="n">object</span> <span class="ow">in</span> <span class="n">Dir</span></code>
through entrywise implication of the two corresponding matrices. The result is
the following propositional formula.</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}&amp;(((v_3 \wedge v_7) \vee (v_4 \wedge v_8)) \rightarrow \top) \wedge (((v_3 \wedge v_9) \vee (v_4 \wedge v_{10})) \rightarrow v_1) \\
&amp;\equiv \\
&amp;((v_3 \wedge v_9) \vee (v_4 \wedge v_{10})) \rightarrow v_1\end{split}\]</div>
</div>
<p>This reads as: if atom <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Object0</span></code> belongs to <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry</span><span class="o">.</span><span class="n">object</span></code>, then
it must belong to <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Dir$</span></code> (<span class="math notranslate nohighlight">\(v_1\)</span>). The first conjunct was trivially
true since it related to <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Root0</span></code>, which is necessarily in <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Dir</span></code>
through <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Root</span></code>. Although we avoided it for simplicity, in practice, the
resulting formula will be in CNF.</p>
<p>When the Analyzer reports the result of a command, you can actually get a bit of
an insight of the complexity of the SAT problem deployed underneath. The
<em>primary vars</em> reported are precisely those that correspond to tuples of the
problem’s relations. The execution of command <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">all_entries_dir</span></code> shown
above reported 18 primary variables (the 10 shown above plus another 8 for the
omitted <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">entries</span></code> and <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">name</span></code> relations). The <em>vars</em> and <em>clauses</em>
result from the translation of the problem’s formula into CNF.</p>
<p>Since this procedure generates SAT problems, we can then use many different solvers to check satisfiability, and
the Analyzer comes packaged with many state-of-the-art SAT solvers. The SAT solver
used by Kodkod can be set through the menu option <span class="menuselection">Options ‣
Solver</span> of the Analyzer. By default, this solver is set to
<span class="menuselection">SAT4J</span>, a Java SAT solver that is guaranteed to run in every
operating system that the Analyzer also runs. While it’s impossible to predict
which SAT solver will perform best for each particular model, SAT4J is rarely
the fastest, and the user can explore other solvers that come pre-packaged with
the Analyzer depending on the operating system, such as <span class="menuselection">Glucose</span>
or <span class="menuselection">MiniSAT</span>. Note that instance iteration requires the usage of
an incremental SAT solver to be feasible. So if you select a SAT solver that is
not incremental (such as <span class="menuselection">Lingeling</span>), you’ll get an error
message when trying to iterate instances in the visualizer. Note also that the
order on which the instances are generated my change depending on the selected
solver (although eventually they will all generate the same set of instances).</p>
<div class="sd-sphinx-override sd-cards-carousel sd-card-cols-2 docutils">
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-card-hover docutils">
<div class="sd-card-header docutils">
<p class="sd-card-text"><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-file-badge" viewBox="0 0 16 16" aria-hidden="true"><path d="M2.75 1.5a.25.25 0 0 0-.25.25v11.5c0 .138.112.25.25.25h3.5a.75.75 0 0 1 0 1.5h-3.5A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8a1.75 1.75 0 0 1 1.508.862.75.75 0 1 1-1.289.768.25.25 0 0 0-.219-.13h-8Z"></path><path d="M8 7a3.999 3.999 0 0 1 7.605-1.733 4 4 0 0 1-1.115 4.863l.995 4.973a.75.75 0 0 1-.991.852l-2.409-.876a.248.248 0 0 0-.17 0l-2.409.876a.75.75 0 0 1-.991-.852l.994-4.973A3.994 3.994 0 0 1 8 7Zm4-2.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5Zm0 6.5c-.373 0-.745-.051-1.104-.154l-.649 3.243 1.155-.42c.386-.14.81-.14 1.196 0l1.155.42-.649-3.243A4.004 4.004 0 0 1 12 11Z"></path></svg> Alloy model</p>
</div>
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Full model for the section</div>
<p class="sd-card-text">Download and explore the files relevant for the model at this point of the book.</p>
</div>
<a class="sd-stretched-link sd-hide-link-text reference external" href="https://github.com/practicalalloy/models/tree/2024-02-28/structural-topics/model-finding/from-relational-logic-to-sat"><span>https://github.com/practicalalloy/models/tree/2024-02-28/structural-topics/model-finding/from-relational-logic-to-sat</span></a></div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-card-hover docutils">
<div class="sd-card-header docutils">
<p class="sd-card-text"><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-beaker" viewBox="0 0 16 16" aria-hidden="true"><path d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458Zm-2.4 6.565a.75.75 0 0 0 .633 1.153h9.534a.75.75 0 0 0 .633-1.153L12.225 10.5h-8.45ZM9.5 2.5h-3V6c0 .143-.04.283-.117.403L4.73 9h6.54L9.617 6.403A.746.746 0 0 1 9.5 6Z"></path></svg> Further reading</p>
</div>
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
A relational logic primer</div>
<p class="sd-card-text">Learn about all the different operators of the relational logic, that are also supported by Kodkod.</p>
</div>
<a class="sd-stretched-link sd-hide-link-text reference internal" href="../relational-logic/index.html#relational-logic"><span class="std std-ref">tocdepth</span></a></div>
</div>
</section>
<section id="skolemization">
<h2>Skolemization<a class="headerlink" href="#skolemization" title="Link to this heading">¶</a></h2>
<p id="index-4">Before deploying the solver, Kodkod performs a process called <em>Skolemization</em>
whenever outermost existential quantifications occur in <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="k">run</span></code> commands
(or universal quantifications for <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="k">check</span></code> commands). Instead of flattening the existential quantifier to a disjunction, skolemization transforms the problem to a equisatisfiable one, by creating a new free singleton set (a unary relation) for the existentially quantified variable, and then removing the quantifier and leaving just the quantified formula. The solver will then try to search for a value for the new free variable that satisfies the formula. This largely
improves the efficiency of the analysis procedures, and as a side-effect such
singleton sets are now also part of the generated instance. Moreover,
Skolemization allows the analysis of some commands with <em>higher-order
quantifications</em>, which is forbidden in Alloy in general. In particular an existential
quantified higher-order variable in a <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="k">run</span></code> command will be Skolomized to a new relation with the appropriate
arity. Such Skolemized variables can be treated as any other relation in the theme
customization. You can control how deep the Analyzer will search for
quantifications to Skolemize through menu option <span class="menuselection">Options ‣
Skolem depth</span>, but you cannot actually turn it off altogether.</p>
<p>Let us consider an example, for our file system model. For instance, the following
command asks for instances where some entry points to a directory.</p>
<div class="highlight-practicalalloy notranslate"><div class="highlight"><pre><span></span><span class="k">run</span> <span class="n">some_entries_dir</span> <span class="o">{</span>
  <span class="k">some</span> <span class="n">d</span> <span class="p">:</span> <span class="n">Dir</span> <span class="o">|</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">Entry</span><span class="o">.</span><span class="n">object</span>
<span class="o">}</span> <span class="k">for</span> <span class="mi">2</span>
</pre></div>
</div>
<p>The resulting instance is the following, where variable <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">d</span></code> was
Skolemized and is treated as a regular subset of <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Dir</span></code>. Its name is
prefixed with the command name, and with a <code class="code docutils literal notranslate"><span class="pre">$</span></code> to distinguish it from the
model’s relations. So it appears in the visualization, can be customized in the
theme, or called in the evaluator. Here, we just set its border to be
<span class="guilabel">Bold</span>. If you look at the log, you’ll notice that the Analyzer now
reported 20 primary variables rather than the expected 18: that’s because
<code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">d</span></code> was encoded as a relation of the Kodkod problem.</p>
<a class="reference external image-reference" href="https://github.com/practicalalloy/models/blob/2024-02-28/structural-topics/model-finding/instance_01_02/filesystem.als#L87-L99"><img alt="Get the code to generate this instance." class="align-center" src="../../../../_images/instance120.png" style="width: 450px;" />
</a>
<p>As an example of a higher-order quantification, let’s suppose we wanted to check the obviously false property that all subsets of entries in a file system have the same name. The <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="k">check</span></code> command to do so is the following.</p>
<div class="highlight-practicalalloy notranslate"><div class="highlight"><pre><span></span><span class="k">check</span> <span class="n">all_entries_same_name</span> <span class="o">{</span>
  <span class="k">all</span> <span class="n">s</span> <span class="p">:</span> <span class="k">set</span> <span class="n">Entry</span> <span class="o">|</span> <span class="k">lone</span> <span class="n">s</span><span class="o">.</span><span class="n">name</span>
<span class="o">}</span>
</pre></div>
</div>
<p>When translated to Kodkod the formula in this command will be negated and originate an existential higher-order quantification that searches for any subset of entries with at least two different names, which would be a counter-example to this property. The Skolomized variable will be part of the counter-example instance, as can be seen
in the instance below, where <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">$all_entries_same_name_s</span></code> contains entries with two different names.</p>
<a class="reference external image-reference" href="https://github.com/practicalalloy/models/blob/2024-02-28/structural-topics/model-finding/instance_01_02/filesystem.als#L101-L112"><img alt="Get the code to generate this instance." class="align-center" src="../../../../_images/instance28.png" style="width: 450px;" />
</a>
<p>It is worth noting that Skolomization of higher-order quantifications does not add any expressiveness to the language: you
could achieve the same result by introducing a new subset signature of
<code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Entry</span></code> and enforcing the same constraints over it (although this would
pollute the model, while the higher-order quantification is local to the assertion).
If an higher-order quantification cannot be solved by
Skolemized an error is thrown by the Analyzer.</p>
<div class="sd-sphinx-override sd-cards-carousel sd-card-cols-2 docutils">
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-card-hover docutils">
<div class="sd-card-header docutils">
<p class="sd-card-text"><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-file-badge" viewBox="0 0 16 16" aria-hidden="true"><path d="M2.75 1.5a.25.25 0 0 0-.25.25v11.5c0 .138.112.25.25.25h3.5a.75.75 0 0 1 0 1.5h-3.5A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8a1.75 1.75 0 0 1 1.508.862.75.75 0 1 1-1.289.768.25.25 0 0 0-.219-.13h-8Z"></path><path d="M8 7a3.999 3.999 0 0 1 7.605-1.733 4 4 0 0 1-1.115 4.863l.995 4.973a.75.75 0 0 1-.991.852l-2.409-.876a.248.248 0 0 0-.17 0l-2.409.876a.75.75 0 0 1-.991-.852l.994-4.973A3.994 3.994 0 0 1 8 7Zm4-2.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5Zm0 6.5c-.373 0-.745-.051-1.104-.154l-.649 3.243 1.155-.42c.386-.14.81-.14 1.196 0l1.155.42-.649-3.243A4.004 4.004 0 0 1 12 11Z"></path></svg> Alloy model</p>
</div>
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Full model for the section</div>
<p class="sd-card-text">Download and explore the files relevant for the model at this point of the book.</p>
</div>
<a class="sd-stretched-link sd-hide-link-text reference external" href="https://github.com/practicalalloy/models/tree/2024-02-28/structural-topics/model-finding/skolemization"><span>https://github.com/practicalalloy/models/tree/2024-02-28/structural-topics/model-finding/skolemization</span></a></div>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../testing-instances/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Encoding test instances</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../relational-logic/index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">A relational logic primer</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2021-2025, Alcino Cunha, Nuno Macedo, Julien Brunel, David Chemouil
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on Feb 16, 2025</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Model finding</a><ul>
<li><a class="reference internal" href="#relational-model-finding">Relational model finding</a></li>
<li><a class="reference internal" href="#from-relational-logic-to-sat">From relational logic to SAT</a></li>
<li><a class="reference internal" href="#skolemization">Skolemization</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../../../_static/documentation_options.js?v=10f1778b"></script>
    <script src="../../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../../_static/copybutton.js?v=f281be69"></script>
    <script kind="utterances">

    var commentsRunWhenDOMLoaded = cb => {
    if (document.readyState != 'loading') {
        cb()
    } else if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded', cb)
    } else {
        document.attachEvent('onreadystatechange', function() {
        if (document.readyState == 'complete') cb()
        })
    }
}

var addUtterances = () => {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "https://utteranc.es/client.js";
    script.async = "async";

    script.setAttribute("repo", "practicalalloy/practicalalloy.github.io");
    script.setAttribute("issue-term", "pathname");
    script.setAttribute("theme", "github-light");
    script.setAttribute("label", "💬 comment");
    script.setAttribute("crossorigin", "anonymous");

    sections = document.querySelectorAll("section");
    if (sections !== null) {
        section = sections[sections.length-1];
        section.appendChild(script);
    }
}
commentsRunWhenDOMLoaded(addUtterances);
</script>
    <script src="../../../../_static/design-tabs.js?v=f930bc37"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>