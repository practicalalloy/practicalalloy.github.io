<!doctype html>
<html class="no-js" lang="en" data-content_root="../../../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta property="article:modified_time" content="2024-06-20T17:37:54+01:00" /><link rel="index" title="Index" href="../../../../genindex.html" /><link rel="search" title="Search" href="../../../../search.html" /><link rel="next" title="Mutable top-level signatures" href="../mutable-toplevel-signatures/index.html" /><link rel="prev" title="Behavioral modelling advanced topics" href="../../index.html" />

    <!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>A temporal logic primer - Practical Alloy</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/practicalalloy.css?v=2ee171b3" />
    <link crossorigin="anonymous" integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" rel="stylesheet" type="text/css" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --color-brand-primary: #2a5adf;
  --color-brand-content: #2a5adf;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../../index.html"><div class="brand">Practical Alloy</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../../index.html">
  
  
  <span class="sidebar-brand-text">Practical Alloy</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Preface</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about-alloy/index.html">About Alloy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../about-book/index.html">About this book</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">The Basics</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../structural-modeling/index.html">Structural modeling</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../structural-topics/index.html">Advanced topics</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Advanced topics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/subset-signatures/index.html">Subset signatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/enumerations/index.html">Enumeration signatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/commands/index.html">Commands in detail</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/visualization/index.html">Visualization customization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/nary-relations/index.html">Higher-arity relations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/evaluator/index.html">The instance evaluator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/bestiary/index.html">Arrow multiplicity constraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/type-system/index.html">Type system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/modules/index.html">Module system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/ordering/index.html">The predefined <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">ordering</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/relational-logic/index.html">A relational logic primer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/model-finding/index.html">Model finding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/testing-instances/index.html">Encoding test instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/recursion/index.html">Handling recursion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/integers/index.html">Working with integers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/signature-facts/index.html">Signature facts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../behavioral-modeling/index.html">Behavioral modeling</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../index.html">Advanced topics</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Advanced topics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">A temporal logic primer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mutable-toplevel-signatures/index.html">Mutable top-level signatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pointwise-effects/index.html">Pointwise effects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../macros/index.html">Macros</a></li>
<li class="toctree-l2"><a class="reference internal" href="../meta/index.html">Meta-capabilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../event-depiction/index.html">An idiom for event depiction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scenarios/index.html">Encoding trace scenarios</a></li>
<li class="toctree-l2"><a class="reference internal" href="../evaluator/index.html">The trace evaluator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fairness/index.html">Safety, liveness, and fairness</a></li>
<li class="toctree-l2"><a class="reference internal" href="../inductive-invariants/index.html">Inductive invariants</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sequences/index.html">Sequences</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Applications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../protocol-design/index.html">Protocol design</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../bibliography.html">Bibliography</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../genindex.html">Index</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../../../../_sources/chapters/behavioral-topics/topics/temporal-logic/index.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="a-temporal-logic-primer">
<span id="index-0"></span><h1>A temporal logic primer<a class="headerlink" href="#a-temporal-logic-primer" title="Link to this heading">¶</a></h1>
<p>In chapter <a class="reference internal" href="../../../structural-modeling/index.html#structural-modeling"><span class="std std-ref">Structural modeling</span></a>, we used relational logic to specify constraints about software structures. As we have seen in the <a class="reference internal" href="../../../behavioral-modeling/index.html#behavioral-modeling"><span class="std std-ref">Behavioral modeling</span></a> chapter, the language also supports temporal logic, to enable the specification of behavioral properties. This topic provides more details about the syntax and semantics of Alloy’s temporal logic.</p>
<section id="everything-is-a-trace">
<span id="index-1"></span><h2>Everything is a trace<a class="headerlink" href="#everything-is-a-trace" title="Link to this heading">¶</a></h2>
<p id="index-2">What do we mean by “the behaviors of the system”? In Alloy, we view a system as the set of all its execution traces, and every such trace is a feasible <em>infinite sequence of states</em> of the system. Here, “feasible” means that each trace much follow the constraints of the model. The constraints of the model include the Alloy facts and the constraints that are included in the signature declarations, such as the multiplicity constraints.
In each state, a relational value is associated with each declared signature and field. If a signature or field is declared as mutable, that its value can change along the trace. Be aware that if a top-level signature is declared as mutable then relations <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="kc">univ</span></code> and <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="kc">iden</span></code> will also be mutable, since <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="kc">univ</span></code> is the union of all top-level sigs, and <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="kc">iden</span></code> is the identity relation over <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="kc">univ</span></code>.</p>
<p>Let us consider for instance the following trace of our file sharing web app.</p>
<a class="reference internal image-reference" href="../../../../_images/trace.png"><img alt="../../../../_images/trace.png" class="align-center" src="../../../../_images/trace.png" style="width: 550px;" />
</a>
<p>In this scenario, which we will use as an illustrating example in this topic, there are two files and two tokens. A file is depicted in red if it is shared. Tokens are not represented in the picture.</p>
<p>Let us define this scenario in Alloy terms. The set of atoms (the universe) consists of the two files and the two tokens, which are named after their signature name by Alloy: <code class="code docutils literal notranslate"><span class="pre">File0</span></code>, <code class="code docutils literal notranslate"><span class="pre">File1</span></code>, <code class="code docutils literal notranslate"><span class="pre">Token0</span></code>, <code class="code docutils literal notranslate"><span class="pre">Token1</span></code>. Alloy Analyzer produces the following depiction for this scenario. We use here the same visualization theme as in chapter <a class="reference internal" href="../../../behavioral-modeling/index.html#behavioral-modeling"><span class="std std-ref">Behavioral modeling</span></a>: the files are depicted as circles and the tokens as grey rectangles, the files that are not currently uploaded are in white, the uploaded ones are in yellow, the trashed ones are in red. When inspecting a trace, the visualizer starts by focusing on the first two states of a trace (state 0 and state 1).</p>
<a class="reference external image-reference" href="https://github.com/practicalalloy/models/blob/d9d168e8382a114614e1fa527ad9b3b113555840/behavioral-topics/temporal-logic/instance_1_2/filesharing.als#L77-L83"><img alt="Get the code to generate this instance." class="align-center" src="../../../../_images/instance113.png" style="width: 600px;" />
</a>
<p>All along the trace, the signatures <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">File</span></code> and <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Token</span></code> have a constant value (because they are static signatures), which is the following.</p>
<div class="highlight-practicalalloy notranslate"><div class="highlight"><pre><span></span><span class="n">File</span>  <span class="o">=</span> <span class="o">{(</span><span class="n">File0</span><span class="o">)</span><span class="p">,</span><span class="o">(</span><span class="n">File1</span><span class="o">)}</span>
<span class="n">Token</span> <span class="o">=</span> <span class="o">{(</span><span class="n">Token0</span><span class="o">)</span><span class="p">,</span><span class="o">(</span><span class="n">Token1</span><span class="o">)}</span>
</pre></div>
</div>
<p>Now, if we look at the content of the first two states, we see that</p>
<ul class="simple">
<li><p>in the initial state, the signatures <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">uploaded</span></code>, <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">trashed</span></code> and the field <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">shared</span></code> are empty,</p></li>
<li><p>in the second state, <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">uploaded</span> <span class="o">=</span> <span class="o">{(</span><span class="n">File1</span><span class="o">)}</span></code>, and <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">trashed</span></code> and <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">shared</span></code> are still empty.</p></li>
</ul>
<p>By pressing pressing <span class="guilabel">→</span> a couple of times we can focus on the 3rd and 4th states (state 2 and state 3) of the trace, corresponding to the transition where one file is shared.</p>
<a class="reference external image-reference" href="https://github.com/practicalalloy/models/blob/d9d168e8382a114614e1fa527ad9b3b113555840/behavioral-topics/temporal-logic/instance_1_2/filesharing.als#L77-L83"><img alt="Get the code to generate this instance." class="align-center" src="../../../../_images/instance23.png" style="width: 600px;" />
</a>
<p>We can see that in state 2 (left-hand side) <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">shared</span></code> is empty and that <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">uploaded</span> <span class="o">=</span> <span class="o">{(</span><span class="n">File0</span><span class="o">)</span><span class="p">,</span><span class="o">(</span><span class="n">File1</span><span class="o">)}</span></code>, and that in state 3 (right-hand side) <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">shared</span> <span class="o">=</span> <span class="o">{(</span><span class="n">File1</span><span class="p">,</span><span class="n">Token1</span><span class="o">)}</span></code>.</p>
<p>In the following, we will use this scenario to illustrate the semantics of temporal connectives.</p>
<div class="sd-sphinx-override sd-cards-carousel sd-card-cols-2 docutils">
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-card-hover docutils">
<div class="sd-card-header docutils">
<p class="sd-card-text"><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-beaker" viewBox="0 0 16 16" aria-hidden="true"><path d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458Zm-2.4 6.565a.75.75 0 0 0 .633 1.153h9.534a.75.75 0 0 0 .633-1.153L12.225 10.5h-8.45ZM9.5 2.5h-3V6c0 .143-.04.283-.117.403L4.73 9h6.54L9.617 6.403A.746.746 0 0 1 9.5 6Z"></path></svg> Further reading</p>
</div>
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Mutable top-level signatures</div>
<p class="sd-card-text">We mentioned that top-level signatures can be mutable. Learn about the implications of having them in a model.</p>
</div>
<a class="sd-stretched-link sd-hide-link-text reference internal" href="../mutable-toplevel-signatures/index.html#mutable-toplevel-signatures"><span class="std std-ref">Mutable top-level signatures</span></a></div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-card-hover docutils">
<div class="sd-card-header docutils">
<p class="sd-card-text"><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-beaker" viewBox="0 0 16 16" aria-hidden="true"><path d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458Zm-2.4 6.565a.75.75 0 0 0 .633 1.153h9.534a.75.75 0 0 0 .633-1.153L12.225 10.5h-8.45ZM9.5 2.5h-3V6c0 .143-.04.283-.117.403L4.73 9h6.54L9.617 6.403A.746.746 0 0 1 9.5 6Z"></path></svg> Further reading</p>
</div>
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
A relational logic primer</div>
<p class="sd-card-text">Alloy’s temporal specifications are built top of relational logic. Learn more about this static fragment.</p>
</div>
<a class="sd-stretched-link sd-hide-link-text reference internal" href="../../../structural-topics/topics/relational-logic/index.html#relational-logic"><span class="std std-ref">tocdepth</span></a></div>
</div>
</section>
<section id="temporal-connectives">
<span id="index-3"></span><h2>Temporal connectives<a class="headerlink" href="#temporal-connectives" title="Link to this heading">¶</a></h2>
<p id="index-4">The constraints of the model are expressed in Alloy’s logic, which combines relational logic and Linear Temporal Logic (LTL) <a class="reference internal" href="../../../../bibliography.html#focs77" id="id1"><span>[FOCS77]</span></a>.  The logic that results from this combination is named Relational Linear Temporal Logic (RLTL). The temporal logic connectives supported by Alloy are the following.</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>Future-time connectives</strong></p></td>
<td><p><strong>Past-time connectives</strong></p></td>
</tr>
<tr class="row-even"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">after</span></code></p></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">before</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">eventually</span></code></p></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">once</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">always</span></code></p></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">historically</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">until</span></code></p></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">since</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">releases</span></code></p></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">triggered</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<p>The informal meaning of the future-time connectives is the following.</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>Connective</strong></p></td>
<td><p><strong>Informal meaning</strong></p></td>
</tr>
<tr class="row-even"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">after</span> <span class="n">P</span></code></p></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code> is true in the next state</p></td>
</tr>
<tr class="row-odd"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">eventually</span> <span class="n">P</span></code></p></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code> is true in a future state</p></td>
</tr>
<tr class="row-even"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">always</span> <span class="n">P</span></code></p></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code> is true in all future states</p></td>
</tr>
<tr class="row-odd"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span> <span class="ow">until</span> <span class="n">Q</span></code></p></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Q</span></code> is true in a future states and <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code> is true until then</p></td>
</tr>
<tr class="row-even"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span> <span class="ow">releases</span> <span class="n">Q</span></code></p></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Q</span></code> can only stop being true after <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code> is true</p></td>
</tr>
</tbody>
</table>
</div>
<p>To be more precise, a temporal logic formula is interpreted in a given state of a trace.
Given a trace <span class="math notranslate nohighlight">\(\tau\)</span> the interpretation of every connective is given the state of index <span class="math notranslate nohighlight">\(i ≥ 0\)</span>. Given a formula <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code> we write <span class="math notranslate nohighlight">\(\tau,i \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code> to denote the fact that <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code> is true in the state <span class="math notranslate nohighlight">\(i\)</span> of <span class="math notranslate nohighlight">\(\tau\)</span>. We consider that a trace <span class="math notranslate nohighlight">\(\tau\)</span> satisfies a formula <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code>, denoted <span class="math notranslate nohighlight">\(\tau \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code>, if <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code> is true in its first state, that is <span class="math notranslate nohighlight">\(\tau,0 \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code>. And a formula is valid in a model if it is valid in all feasible traces of the model.</p>
<p id="index-5">The following table shows the formal semantics of the future-time connectives.</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>Connective</strong></p></td>
<td><p><strong>Formal meaning</strong></p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\tau,i \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">after</span> <span class="n">P</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\tau,i+1 \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\tau,i \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">eventually</span> <span class="n">P</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\exists j \ge i \cdot \tau,j \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code></p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\tau,i \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">always</span> <span class="n">P</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\forall j \ge i \cdot \tau,j \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\tau,i \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span> <span class="ow">until</span> <span class="n">Q</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\exists j \ge i \cdot \tau,j \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Q</span></code> <span class="math notranslate nohighlight">\(\wedge\)</span> <span class="math notranslate nohighlight">\(\forall i \le k &lt; j \cdot \tau,k \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code></p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\tau,i \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span> <span class="ow">releases</span> <span class="n">Q</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\exists j \ge i \cdot \tau,j \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code> <span class="math notranslate nohighlight">\(\wedge\)</span> <span class="math notranslate nohighlight">\(\forall i \le k \le j \cdot \tau,k \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Q</span></code>
<span class="math notranslate nohighlight">\(\; \vee \;\)</span> <span class="math notranslate nohighlight">\(\forall j \ge i \cdot \tau,j \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Q</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<p>To illustrate the connectives, here are some examples of formulas, which are all valid in the trace that is shown above. Notice that they do not necessarily hold in all the possible traces of the file sharing example.</p>
<ul class="simple">
<li><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">after</span> <span class="k">some</span> <span class="n">uploaded</span></code></p></li>
<li><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">eventually</span> <span class="k">some</span> <span class="n">trashed</span></code></p></li>
<li><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">always</span> <span class="o">(</span><span class="k">some</span> <span class="n">f</span> <span class="p">:</span> <span class="n">File</span> <span class="o">|</span> <span class="n">upload</span><span class="o">[</span><span class="n">f</span><span class="o">]</span> <span class="ow">implies</span> <span class="ow">after</span> <span class="k">some</span> <span class="n">uploaded</span><span class="o">)</span></code></p></li>
<li><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="o">(</span><span class="k">some</span> <span class="n">f</span> <span class="p">:</span> <span class="n">File</span> <span class="o">|</span> <span class="n">upload</span><span class="o">[</span><span class="n">f</span><span class="o">])</span> <span class="ow">until</span> <span class="o">(</span><span class="k">some</span> <span class="n">f</span> <span class="p">:</span> <span class="n">File</span><span class="p">,</span> <span class="n">t</span> <span class="p">:</span> <span class="n">Token</span><span class="o">|</span> <span class="n">share</span><span class="o">[</span><span class="n">f</span><span class="p">,</span> <span class="n">t</span><span class="o">])</span></code></p></li>
<li><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="o">(</span><span class="k">some</span> <span class="n">f</span> <span class="p">:</span> <span class="n">File</span> <span class="o">|</span> <span class="n">delete</span><span class="o">[</span><span class="n">f</span><span class="o">])</span> <span class="ow">releases</span> <span class="k">no</span> <span class="n">trashed</span></code></p></li>
</ul>
<p>As in relational logic, some connectives can be defined in terms of others. In particular, it is known that <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">after</span></code> and <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">until</span></code> are sufficient to define all other future-time connectives. For example, <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">eventually</span> <span class="n">P</span></code> is the same as <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="o">(</span><span class="ow">not</span> <span class="n">P</span><span class="o">)</span> <span class="ow">until</span> <span class="n">P</span></code>, <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">always</span> <span class="n">P</span></code> is the same as <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">not</span> <span class="ow">eventually</span> <span class="ow">not</span> <span class="n">P</span></code> and <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span> <span class="ow">releases</span> <span class="n">Q</span></code> is the same as <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">not</span> <span class="o">((</span><span class="ow">not</span> <span class="n">P</span><span class="o">)</span> <span class="ow">until</span> <span class="ow">not</span> <span class="n">Q</span><span class="o">)</span></code> or the same as <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="o">(</span><span class="n">Q</span> <span class="ow">until</span> <span class="o">(</span><span class="n">Q</span> <span class="ow">and</span> <span class="n">P</span><span class="o">))</span> <span class="ow">or</span> <span class="ow">always</span> <span class="n">Q</span></code>.</p>
<p>The informal meaning of the past-time connectives is the following, and it’s dual to the future-time connectives.</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>Connective</strong></p></td>
<td><p><strong>Informal meaning</strong></p></td>
</tr>
<tr class="row-even"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">before</span> <span class="n">P</span></code></p></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code> is true in the previous state</p></td>
</tr>
<tr class="row-odd"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">once</span> <span class="n">P</span></code></p></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code> is true in a past state</p></td>
</tr>
<tr class="row-even"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">historically</span> <span class="n">P</span></code></p></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code> is true in all past states</p></td>
</tr>
<tr class="row-odd"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span> <span class="ow">since</span> <span class="n">Q</span></code></p></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Q</span></code> is true in a past state and <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code> is true since then</p></td>
</tr>
<tr class="row-even"><td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span> <span class="ow">triggered</span> <span class="n">Q</span></code></p></td>
<td><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Q</span></code> was at least true since <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code> was true</p></td>
</tr>
</tbody>
</table>
</div>
<p>The formal semantics of the past-time connectives is given in the following table.</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>Connective</strong></p></td>
<td><p><strong>Formal meaning</strong></p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\tau,i \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">before</span> <span class="n">P</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(i &gt; 0 \wedge \tau,i-1 \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\tau,i \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">once</span> <span class="n">P</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\exists j \le i \cdot \tau,j \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code></p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\tau,i \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">historically</span> <span class="n">P</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\forall j \le i \cdot \tau,j \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\tau,i \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span> <span class="ow">since</span> <span class="n">Q</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\exists j \le i \cdot \tau,j \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Q</span></code> <span class="math notranslate nohighlight">\(\wedge\)</span> <span class="math notranslate nohighlight">\(\forall j &lt; k \le i \cdot \tau,k \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code></p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\tau,i \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span> <span class="ow">triggered</span> <span class="n">Q</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(\exists j \le i \cdot \tau,j \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code> <span class="math notranslate nohighlight">\(\wedge\)</span> <span class="math notranslate nohighlight">\(\forall j \le k \le i \cdot \tau,k \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Q</span></code>
<span class="math notranslate nohighlight">\(\; \vee \;\)</span> <span class="math notranslate nohighlight">\(\forall j \le i \cdot \tau,j \models\)</span> <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">Q</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<p>As examples, let us consider the following formulas, which hold in the 4th state of our illustrating scenario. Again, they do not necessarily hold in other states of the trace nor in other traces of the file sharing model.</p>
<ul class="simple">
<li><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="k">some</span> <span class="n">shared</span> <span class="ow">and</span> <span class="ow">before</span> <span class="k">no</span> <span class="n">shared</span></code></p></li>
<li><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">once</span> <span class="k">no</span> <span class="n">uploaded</span></code></p></li>
<li><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="k">some</span> <span class="n">t</span> <span class="p">:</span> <span class="n">token</span> <span class="o">|</span> <span class="ow">historically</span> <span class="n">t</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">File</span><span class="o">.</span><span class="n">shared</span></code></p></li>
<li><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">File</span> <span class="o">=</span> <span class="n">uploaded</span> <span class="ow">since</span> <span class="k">some</span> <span class="n">f</span> <span class="p">:</span> <span class="n">File</span> <span class="o">|</span> <span class="n">upload</span><span class="o">[</span><span class="n">f</span><span class="o">]</span></code></p></li>
<li><p><code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="o">(</span><span class="k">some</span> <span class="n">f</span> <span class="p">:</span> <span class="n">File</span> <span class="o">|</span> <span class="n">upload</span><span class="o">[</span><span class="n">f</span><span class="o">])</span> <span class="ow">triggered</span> <span class="ow">after</span> <span class="k">some</span> <span class="n">uploaded</span></code></p></li>
</ul>
<p>As we said above, we consider that a trace satisfies a formula if its initial state satisfies it. A practical consequence is that a formula in Alloy (whether it is a fact or a property in a <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="k">check</span></code> or <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="k">run</span></code> command) is interpreted in the initial state of a trace. So, past-time connectives only make sense if they appear in the scope of future-time connectives. For instance, consider the following formula, meaning that some token has never been used: <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="k">some</span> <span class="n">t</span> <span class="p">:</span> <span class="n">Token</span> <span class="o">|</span> <span class="ow">historically</span> <span class="n">t</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">File</span><span class="o">.</span><span class="n">shared</span></code>. Interpreting this formula in the initial state of a trace makes it the same as <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="k">some</span> <span class="n">t</span> <span class="p">:</span> <span class="n">Token</span> <span class="o">|</span> <span class="n">t</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">File</span><span class="o">.</span><span class="n">shared</span></code>, which means that some token is not used, because there are no other states before the initial one. In other words, the past-time connective is useless. However, if <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">historically</span></code> is in the scope of a future-time connective, such as <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">always</span></code>, it can be useful. For instance, the formula <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="k">all</span> <span class="n">f</span> <span class="p">:</span> <span class="n">File</span><span class="p">,</span> <span class="n">t</span> <span class="p">:</span> <span class="n">Token</span> <span class="o">|</span> <span class="ow">always</span> <span class="o">(</span><span class="n">share</span><span class="o">[</span><span class="n">f</span><span class="p">,</span> <span class="n">t</span><span class="o">]</span> <span class="ow">implies</span> <span class="ow">historically</span> <span class="n">t</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">File</span><span class="o">.</span><span class="n">shared</span></code> means that each time a file is shared with a token, this token has never been used before. Also, note that <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">before</span></code> is always false in the first state of the trace.</p>
</section>
<section id="expressiveness-of-linear-temporal-logic">
<span id="index-6"></span><h2>Expressiveness of linear temporal logic<a class="headerlink" href="#expressiveness-of-linear-temporal-logic" title="Link to this heading">¶</a></h2>
<p><strong>Are past-time connectives really useful?</strong>
A well-known theoretical result for LTL is that past-time connectives do not add any expressiveness to the logic <a class="reference internal" href="../../../../bibliography.html#popl80" id="id2"><span>[POPL80]</span></a>. In other words, <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">after</span></code> and <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">until</span></code> are enough to express any property that is expressible in LTL. However, we also know <a class="reference internal" href="../../../../bibliography.html#eatcs03" id="id3"><span>[EATCS03]</span></a> that past-time connectives allow for exponentially more succinct formulas, which make them very useful in practice.</p>
<p id="index-7"><strong>What do you mean by temporal?</strong>
In the literature, there are in fact several kinds of temporal logics. Their purpose is to reason over the behavior of a system, but they differ on all sorts of aspects. In the literature, the temporal logic at work in Alloy is referred to as Linear Temporal Logic (LTL) or sometimes Linear Temporal Logic with Past (PLTL). Although this is probably the most commonly used temporal logic, some kinds of temporal reasoning are not possible with LTL. For instance, if one needs to reason about different possible execution traces, a branching-time temporal logic, such as Computation Tree Logic (CTL) <a class="reference internal" href="../../../../bibliography.html#lp81" id="id4"><span>[LP81]</span></a>,  must be used instead of a linear-time temporal logic. In order to reason about the amount of time that passed between different states, some other kind of temporal logics, which are called <em>timed</em> logics <a class="reference internal" href="../../../../bibliography.html#lics90" id="id5"><span>[LICS90]</span></a>, can also be used.</p>
<p><strong>Why does Alloy only consider infinite traces?</strong>
There exist some frameworks where the length of traces can be finite, but this makes the meaning of temporal connectives tricky. For instance, what is the meaning of <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">after</span> <span class="n">P</span></code> in the last state of a finite trace?  Defining it as either <span class="math notranslate nohighlight">\(true\)</span> or <span class="math notranslate nohighlight">\(false\)</span> would be sensible <a class="reference internal" href="../../../../bibliography.html#cav03" id="id6"><span>[CAV03]</span></a>. But in any case, the sames choice applies to <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">after</span> <span class="ow">not</span> <span class="n">P</span></code>, and then <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">not</span> <span class="ow">after</span> <span class="n">P</span></code> is not equivalent to <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="ow">after</span> <span class="ow">not</span> <span class="n">P</span></code>, which is admittedly counter-intuitive. A solution to avoid these issues is to consider infinite traces only. Remark that it is easy to simulate a finite behavior with an infinite trace, by considering a self-loop on the last state. This is in particular possible in case the Alloy model includes a stuttering event (see section <a class="reference internal" href="../../../behavioral-modeling/index.html#behavioral-modeling-stuttering"><span class="std std-ref">Stuttering</span></a> in the <a class="reference internal" href="../../../behavioral-modeling/index.html#behavioral-modeling"><span class="std std-ref">Behavioral modeling</span></a> chapter).</p>
<p><strong>Why does Alloy only show lasso traces?</strong>
Remark that some infinite traces cannot be represented by lasso traces: consider, for example, a trace where <code class="code highlight alloy practicalalloy docutils literal highlight-practicalalloy"><span class="n">P</span></code> is true once in the first state, and then twice in the 3rd and 4th states, and then three times, and so on. This trace never reaches a repeating sequence of states. Therefore it cannot be represented by a lasso trace. However, a theoretical result for LTL called the Small Model Property (SMP) <a class="reference internal" href="../../../../bibliography.html#jacm85" id="id7"><span>[JACM85]</span></a> states that if a constraint has a trace that satisfies it, then it has a lasso trace that satisfies it. In other words, if there is no lasso trace satisfying a constraint, then there is no trace at all, which makes it is enough to only search for lasso traces in the analysis.</p>
<p><strong>Is the fact constraining the system behavior required to specify a transition system?</strong>
As it is presented in chapter <a class="reference internal" href="../../../behavioral-modeling/index.html#behavioral-modeling"><span class="std std-ref">Behavioral modeling</span></a>, it is a good practice to specify an Alloy model as a transition system: a constraint (without any temporal connective) corresponds to the initial states and another constraint imposes that one action (or a stuttering step) occurs in every state. However, you can also add arbitrary temporal formulas as constraints of the model. Then, such formulas constrain the whole execution instead of only constraining the initial state and each transition. This can be useful to abstract away the behavior of some part of the model that we do not want to specify in detail as a transition system. This is typically the case of fairness assumptions, such as the one we specified at the end of chapter <a class="reference internal" href="../../../behavioral-modeling/index.html#behavioral-modeling"><span class="std std-ref">Behavioral modeling</span></a>, to specify the fact that  the system should empty the trash periodically.</p>
<div class="sd-sphinx-override sd-cards-carousel sd-card-cols-2 docutils">
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-card-hover docutils">
<div class="sd-card-header docutils">
<p class="sd-card-text"><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-beaker" viewBox="0 0 16 16" aria-hidden="true"><path d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458Zm-2.4 6.565a.75.75 0 0 0 .633 1.153h9.534a.75.75 0 0 0 .633-1.153L12.225 10.5h-8.45ZM9.5 2.5h-3V6c0 .143-.04.283-.117.403L4.73 9h6.54L9.617 6.403A.746.746 0 0 1 9.5 6Z"></path></svg> Further reading</p>
</div>
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Safety, liveness, and fairness</div>
<p class="sd-card-text">Learn about the different kinds of formulas you specify in temporal logic.</p>
</div>
<a class="sd-stretched-link sd-hide-link-text reference internal" href="../fairness/index.html#fairness"><span class="std std-ref">tocdepth</span></a></div>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../mutable-toplevel-signatures/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Mutable top-level signatures</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../../index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Behavioral modelling advanced topics</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2021-2025, Alcino Cunha, Nuno Macedo, Julien Brunel, David Chemouil
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on Jun 20, 2024</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">A temporal logic primer</a><ul>
<li><a class="reference internal" href="#everything-is-a-trace">Everything is a trace</a></li>
<li><a class="reference internal" href="#temporal-connectives">Temporal connectives</a></li>
<li><a class="reference internal" href="#expressiveness-of-linear-temporal-logic">Expressiveness of linear temporal logic</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../../../_static/documentation_options.js?v=10f1778b"></script>
    <script src="../../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../../_static/copybutton.js?v=f281be69"></script>
    <script kind="utterances">

    var commentsRunWhenDOMLoaded = cb => {
    if (document.readyState != 'loading') {
        cb()
    } else if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded', cb)
    } else {
        document.attachEvent('onreadystatechange', function() {
        if (document.readyState == 'complete') cb()
        })
    }
}

var addUtterances = () => {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "https://utteranc.es/client.js";
    script.async = "async";

    script.setAttribute("repo", "practicalalloy/practicalalloy.github.io");
    script.setAttribute("issue-term", "pathname");
    script.setAttribute("theme", "github-light");
    script.setAttribute("label", "💬 comment");
    script.setAttribute("crossorigin", "anonymous");

    sections = document.querySelectorAll("section");
    if (sections !== null) {
        section = sections[sections.length-1];
        section.appendChild(script);
    }
}
commentsRunWhenDOMLoaded(addUtterances);
</script>
    <script src="../../../../_static/design-tabs.js?v=f930bc37"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>
